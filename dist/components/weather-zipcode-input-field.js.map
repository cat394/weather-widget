{"version":3,"file":"weather-zipcode-input-field.js","sourceRoot":"","sources":["../../src/components/weather-zipcode-input-field.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AACzD,OAAO,EAAE,UAAU,EAAE,mBAAmB,EAAE,MAAM,iBAAiB,CAAC;AAClE,OAAO,EAAE,kBAAkB,EAAE,MAAM,UAAU,CAAC;AAGvC,IAAM,wBAAwB,GAA9B,MAAM,wBAAyB,SAAQ,UAAU;IAAjD;;;QACN,kDAAiB,IAAI,kBAAkB,CAAC,IAAI,CAAC,EAAC;IAuH/C,CAAC;IAzEA,KAAK;QACJ,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;IACnB,CAAC;IAEkB,MAAM;QACxB,OAAO,IAAI,CAAA;mBACM,uBAAA,IAAI,wFAAmB;;;;;;;;;;eAU3B,uBAAA,IAAI,+FAA0B;;;;;;;;;;eAU9B,uBAAA,IAAI,+FAA0B;;;;;GAK1C,CAAC;IACH,CAAC;;;;mGAvEkB,KAAY;IAC9B,KAAK,CAAC,cAAc,EAAE,CAAC;IAEvB,MAAM,IAAI,GAAG,KAAK,CAAC,aAAgC,CAAC;IAEpD,MAAM,SAAS,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;IAErC,MAAM,aAAa,GAAG,SAAS,CAAC,GAAG,CAAC,eAAe,CAAW,CAAC;IAE/D,MAAM,YAAY,GAAG,SAAS,CAAC,GAAG,CAAC,cAAc,CAAW,CAAC;IAE7D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC;QACpC,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,CAAC;QACvD,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;QACpC,OAAO;IACR,CAAC;SAAM,CAAC;QACP,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;IAC1C,CAAC;IAED,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;QACnC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,CAAC;QACtD,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;QACnC,OAAO;IACR,CAAC;SAAM,CAAC;QACP,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;IACzC,CAAC;IAED,MAAM,OAAO,GAAG,aAAa,GAAG,YAAY,CAAC;IAE7C,IAAI,CAAC,KAAK,EAAE,CAAC;IAEb,uBAAA,IAAI,+CAAe,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AACxE,CAAC;;IAGA,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;IACzC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;AACzC,CAAC;AAoCe,+BAAM,GAAG;IACxB,UAAU;IACV,mBAAmB;IACnB,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAkCF;CACD,AAtCqB,CAsCpB;AApHa;IAAd,KAAK,CAAC,MAAM,CAAC;sDAAwB;AACjB;IAApB,KAAK,CAAC,YAAY,CAAC;2DAA+B;AAC1B;IAAxB,KAAK,CAAC,gBAAgB,CAAC;+DAAkC;AAClC;IAAvB,KAAK,CAAC,eAAe,CAAC;8DAAiC;AAN5C,wBAAwB;IADpC,aAAa,CAAC,6BAA6B,CAAC;GAChC,wBAAwB,CAwHpC","sourcesContent":["import { LitElement, html, css } from \"lit\";\r\nimport { customElement, query } from \"lit/decorators.js\";\r\nimport { base_style, dialog_button_style } from \"./common-styles\";\r\nimport { ScopedEventManager } from \"./events\";\r\n\r\n@customElement(\"weather-zipcode-input-field\")\r\nexport class WeatherZipcodeInputField extends LitElement {\r\n\t#event_manager = new ScopedEventManager(this);\r\n\r\n\t@query(\"form\") form!: HTMLFormElement;\r\n\t@query(\"#close-btn\") close_btn!: HTMLButtonElement;\r\n\t@query(\"#zipcode-first\") zipcode_first!: HTMLInputElement;\r\n\t@query(\"#zipcode-last\") zipcode_last!: HTMLInputElement;\r\n\r\n\t#on_submit_zipcode(event: Event) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst form = event.currentTarget as HTMLFormElement;\r\n\r\n\t\tconst form_data = new FormData(form);\r\n\r\n\t\tconst zipcode_first = form_data.get(\"zipcode-first\") as string;\r\n\r\n\t\tconst zipcode_last = form_data.get(\"zipcode-last\") as string;\r\n\r\n\t\tif (!/^\\d{3}$/.test(zipcode_first)) {\r\n\t\t\tthis.zipcode_first.setCustomValidity(\"3桁の数値を入力してください\");\r\n\t\t\tthis.zipcode_first.reportValidity();\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tthis.zipcode_first.setCustomValidity(\"\");\r\n\t\t}\r\n\r\n\t\tif (!/^\\d{4}$/.test(zipcode_last)) {\r\n\t\t\tthis.zipcode_last.setCustomValidity(\"4桁の数値を入力してください\");\r\n\t\t\tthis.zipcode_last.reportValidity();\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tthis.zipcode_last.setCustomValidity(\"\");\r\n\t\t}\r\n\r\n\t\tconst zipcode = zipcode_first + zipcode_last;\r\n\r\n\t\tform.reset();\r\n\r\n\t\tthis.#event_manager.dispatch(\"search\", { method: \"zipcode\", zipcode });\r\n\t}\r\n\r\n\t#clear_validation_message() {\r\n\t\tthis.zipcode_first.setCustomValidity(\"\");\r\n\t\tthis.zipcode_last.setCustomValidity(\"\");\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tprotected override render(): unknown {\r\n\t\treturn html`\r\n\t\t\t<form @submit=${this.#on_submit_zipcode} novalidate>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<span class=\"sr-only\">郵便番号を入力してください</span>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tpart=\"input\"\r\n\t\t\t\t\t\tclass=\"dialog-input\"\r\n\t\t\t\t\t\tid=\"zipcode-first\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tname=\"zipcode-first\"\r\n\t\t\t\t\t\t@input=${this.#clear_validation_message}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span class=\"hyphen\">━</span>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tpart=\"input\"\r\n\t\t\t\t\t\tclass=\"dialog-input\"\r\n\t\t\t\t\t\tid=\"zipcode-last\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tname=\"zipcode-last\"\r\n\t\t\t\t\t\t@input=${this.#clear_validation_message}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<button part=\"search\" class=\"dialog-btn\">検索する</button>\r\n\t\t\t</form>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tbase_style,\r\n\t\tdialog_button_style,\r\n\t\tcss`\r\n\t\t\tform {\r\n\t\t\t\t--_responsive-reduce-size: 0em;\r\n\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgap: 1rem;\r\n\r\n\t\t\t\tlabel {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tgap: 0.2rem;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinput {\r\n\t\t\t\t\t-moz-appearance: textfield;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinput:first-of-type {\r\n\t\t\t\t\twidth: calc(5em - var(--_responsive-reduce-size));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinput:last-of-type {\r\n\t\t\t\t\twidth: calc(6em - var(--_responsive-reduce-size));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t@container widget (width < 326px) {\r\n\t\t\t\t--_responsive-reduce-size: 1em;\r\n\t\t\t}\r\n\r\n\t\t\t.hyphen {\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n"]}